<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="collective.tablepage">

<head>
<metal:js fill-slot="javascript_head_slot">
<script type="text/javascript">
<!--
(function ($) {
    $(document).ready(function () {
        /**
         * select/unselect all
         */ 
        $('#selectAll').click(function(event) {
            if ($(this).is(':checked')) {
                $('.selectRow').attr('checked', 'checked');
            } else {
                $('.selectRow').removeAttr('checked');
            }
        });
        
        if ($('.tablePageSubHeader').length>0) {
            // Transform the global Add link to a "add to first section" button or remove it if not needed
            if ($('.tablePage tbody tr:first td:first').is('.tablePageSubHeader')) {
                $('#mainAddCommand').remove();
            } else {
                $('#mainAddCommand').appendTo('th.rowCommands');
                $('#mainAddCommand').attr('href', $('#mainAddCommand').attr('href') + '?row-index:int=0&addRow=1');
            }
        }

        $('#massDelete').click(function(event) {
            event.preventDefault();
            if ($('.selectRow:checked').length>0) {
                $('#tableForm').submit();
            }
        });
    });
})(jQuery);
//-->
</script>
</metal:js>
</head>

<body>

<metal:main fill-slot="main">
    <tal:main-macro metal:define-macro="main">

        <h1 class="documentFirstHeading" i18n:translate=""> 
            Edit table data
        </h1>

        <p class="documentDescription"  i18n:translate="description_edit_table_view">
            Add, Edit or Delete rows in the main table of this content
        </p>

        <div id="tablePageContainer"
             tal:content="structure view/render_table">
                Table
        </div>

    </tal:main-macro>
</metal:main>

</body>
</html>

